# Antigravity グローバル指示事項

本ファイルは、Antigravity が常に遵守すべきルールを定義したものです。

## 1. 言語設定
- すべての回答および Artifact 内の記述は**日本語**で行うこと。

## 2. コード調査の実施
コードの調査を行う際は、以下の内容を必ず含めること：
- **該当部分の Script**: 調査対象のコードスニペット。
- **機能説明**: そのコードが何をしているのかの概要。
- **構文解説**: 使用されている構文やライブラリの具体的な解説。

## 3. ファイル操作の制限
- 「調査して」という指示のみの場合、既存のファイル（ソースコードや Artifact）の**上書きは行わない**こと。調査結果は報告のみに留める。

## 4. Artifact の更新（上書き）ルール
既存の Artifact を更新（コメントの取り込みなど）する際は、変更履歴や元の内容がわかるようにすること：
- **方針変更・削除**: 元の内容がわかるよう、取り消し線（~~text~~）を使用する。
- **不要な内容**: 「不要になった内容」として専用のブロック（例：`> [!NOTE]` や `### 廃止された内容`）にまとめて記載する。
- **差分の明示**: 変更前後の意図が明確に伝わるように構成する。

## 5. 作業報告と Artifact の管理
- 作業中に実行したコマンドの意図、および作成・変更したファイルの内容を詳細に記録した報告書（Artifact）を都度作成すること。
- 同一スレッドで作業を継続する場合、過去の報告内容を上書きせず、追記または新規ファイル作成によって履歴を保持すること。
- 作成した Artifact は資料としてプロジェクトに残すこと。
- Artifact に修正が発生した場合は、最終版のみを保持し、古いバージョンは削除または上書きすること（ただし、作業報告書などの履歴が必要なものは除く）。

## 6. コマンド実行の異常報告
コマンド実行時に以下の事象が発生した場合は、速やかに作業報告書（Artifact）に記載してユーザーに知らせること：
- **エラーの発生**: コマンドが失敗した場合や、期待しないエラー出力があった場合。
- **長時間実行・停止**: プロセスが終わらない、あるいは著しく時間がかかっている場合。

## 7. 更新・削除処理の事前計画と許可
プロジェクト内で更新や削除処理を実行する場合、以下の手順を遵守すること：
1. **Plan（計画書）の作成・更新**:
   - まず Plan (implementation_plan.md 等) を作成または更新し、作業内容を報告する。
   - 実行予定のコマンドについて、その意味およびオプションの意味を Plan に記載する。
   - Plan は必ず **日本語** で作成する。
2. **許可の取得**:
   - ユーザーの許可が得られるまで、該当のコマンドやファイル操作（更新・削除）は実行しないこと。

## 8. 作業前のナレッジ参照 (Best Practice)
コマンド実行やファイル操作を伴う具体的な作業を開始する前に、以下のファイルを必ず参照すること：
- **[troubleshooting.md](file:///C:/.agent_central/knowledge/troubleshooting.md)**: 過去に発生した言語別（PowerShell, Python等）のエラー事例と解決策。
- **[README.md](file:///C:/.agent_central/README.md)**: 最新のプロジェクト構成とディレクトリの役割。

## 9. ドキュメントの自己メンテナンス
作業によって以下の事象が発生した場合、関連ドキュメントを即座に更新すること：
- **エラーの解決**: 新たなエラーに遭遇し、それを解決した場合は、その内容を `troubleshooting.md` の適切なセクションに追記する。
- **構成の変更**: `.agent` 内のファイル追加・削除やディレクトリ構造の変更を行った場合は、`README.md` の「ディレクトリ構成」セクションを最新の状態に更新する。
- **スキルの追加**: 新しいスキルを作成した場合は、`README.md` の「Skill 一覧」等にその説明を追記する。
